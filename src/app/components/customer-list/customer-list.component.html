@let customers = vm.customers();

@if (customers.length > 0) {
    <kirby-list [items]="customers" (itemSelect)="vm.selectCustomer($event)">
        <kirby-item *kirbyListItemTemplate="let customer" [selectable]="customer.state.status !== 'creating'" disclosure="arrow-more">
            <p class="kirby-item-title">{{ customer.name }}</p>
            @switch (customer.state.status) {
                @case ('creating') {
                    <kirby-spinner slot="end"></kirby-spinner>
                }
                @case ('created') {
                    <kirby-badge slot="end" themeColor="success">
                        <kirby-icon name="checkmark-selected"></kirby-icon>
                    </kirby-badge>
                }
                @case ('error') {
                    <kirby-badge slot="end" themeColor="danger">
                        <kirby-icon name="warning"></kirby-icon>
                    </kirby-badge>
                }
            }
        </kirby-item>
    </kirby-list>
} @else {
    <p>No customers found</p>
}